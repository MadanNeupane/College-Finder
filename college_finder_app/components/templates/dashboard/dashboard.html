{% extends "base.html" %}
{% load static %}
{% block extracss %}
<link rel="stylesheet" href="{% static 'css/dashboard/dashboard.css' %}">
{% endblock extracss %}

{% block content %}

<div class="container">
  <div class="main__container">
    <div class="main__title">
      <img src="{{ user.profile.avatar.url }}" alt="">
      <div class="main__greeting">
        <h1>Hello, {{name}}!</h1>
        {% if request.user.profile.bio != 'None' %}
        <p>{{ request.user.profile.bio }}</p>
        {% else %}
        <p>Set a custom bio <a href="{% url 'update_profile' %}"><i class='bx bx-edit'></i></a> </p>
        {% endif %}
      </div>
    </div>

    <div class="main__cards">

      <div class="card">
        <box-icon name='pie-chart-alt' type='solid'></box-icon>
        <div class="card__inner">
          <p class="text-primary-p">Profile Completion</p>
          <span class="font-bold text-title">{{ profile_completed }}%</span>
        </div>
      </div>

      <div class="card">
        <box-icon name='time'></box-icon>
        <div class="card__inner">
          <p class="text-primary-p">Last Signed In</p>
          <span class="font-bold text-title">{{ current_time }}</span>
        </div>
      </div>

      <div class="card">
        <box-icon name='bookmarks'></box-icon>
        <div class="card__inner">
          <p class="text-primary-p">Bookmarked Colleges</p>
          <span class="font-bold text-title">{{ bookmarks_count }}</span>
        </div>
      </div>

    </div>

    <div class="charts">
      <div class="charts__left">
        <div class="charts__left__title">
          <div>
            <h1>Report</h1>
            <p>Click to Edit <a href="#"><i class='bx bx-edit'></i></a> </p>
          </div>
          <i class='bx bxs-report'></i>
        </div>
        <div id="apex1"> </div>
      </div>

      <div class="charts__right">
        <div class="charts__right__title">
          <div>
            <h1>Academics</h1>
            <p>Click to Edit <a href="{% url 'update_profile' %}"><i class='bx bx-edit'></i></a> </p>
          </div>
          <i class='bx bxs-medal'></i>
        </div>

        <div class="charts__right__cards">

          <div class="card1">
            <h2>GPA</h2>
            <h3>{{ request.user.profile.gpa }}</h3>
          </div>

          <div class="card1">
            <h2>GRE</h2>
            <h3>{{ request.user.profile.gre_score }}</h3>
          </div>

          <div class="card1">
            <h2>TOEFL</h2>
            <h3>{{ request.user.profile.toefl_score }}</h3>
          </div>

          <div class="card1">
            <h2>Research</h2>
            {% if request.user.profile.research == 1 %}
            <box-icon name='check-circle'></box-icon>
            {% else %}
            <box-icon name='x'></box-icon>
            {% endif %}


          </div>

          <div class="card1">
            <h2>SOP</h2>
            <progress value="{{ request.user.profile.sop_score }}" max="5"> </progress>
          </div>

          <div class="card1">
            <h2>LOR</h2>
            <progress value="{{ request.user.profile.lor_score }}" max="5"> </progress>
          </div>

        </div>

      </div>

    </div>
  </div>
</div>

{% endblock content %}

{% block script %}
<script>
  const linkColor=document.querySelector("#dashboard");
  linkColor.classList.add("active");
</script>
{% endblock script %}